<div ng-controller="feedbackCtrl" class="container">
    <p class="container p-2 tilte fs-5">Đánh giá
        <div id="clock" class="header-common"></div>
    </p>
    <form style="display: block;" class="form-group">
        <input ng-model="timkiemnoidung" style="margin: 0;padding: 10px;" type="text" name="" id=""
            placeholder="Nhập nội dung cần tìm">
        <div style="display: flex;">
            <div style="display: flex;justify-content: center;align-items: center;width: 60%;
            margin: 5px 0;">
            <label for="" style="width: 120px; margin-left: 3px;">Từ ngày</label>
            <input type="datetime-local" name="start" id="startdate">
            <input type="datetime-local" name="end" id="enddate">
            <select ng-model="timkiem" style="width: 95px;border-radius: 10px;">
                <option disabled selected value="">Chất lượng</option>
                <option value="1">1 Sao</option>
                <option value="2">2 Sao</option>
                <option value="3">3 Sao</option>
                <option value="4">4 Sao</option>
                <option value="5">5 Sao</option>
              </select>
        </div>
        <button style="margin: 5px 5px 0;height: 30px;" ng-click="search()">
            <i class="fa-solid fa-magnifying-glass"></i>
            Tìm kiếm
        </button>
        </div>
        
    </form>
    <div class="button">
        <button type="button" class="btn btn-danger btn-del" >
            <i class="fa-solid fa-trash"></i>
            Xoá Đánh Giá
        </button>
    </div>
    <form action="">
        <table class="table table-product table-hover">
           <thead>
                <tr class="text-center">
                    <!-- <th><input class="form-check-input text-center" type="checkbox" id="masterCheckbox">Chọn</th> -->
                    <th>Chọn</th>
                    <th scope="col">ID</th>
                    <th scope="col">Tên người dùng</th>
                    <th scope="col">Tên đăng nhập</th>
                    <th scope="col">Số điện thoại</th>
                    <th scope="col">Tên sản phẩm</th>
                    <th scope="col">Chất lượng</th>
                    <th scope="col">Nội dung</th>
                    <th scope="col">Thời gian</th>
                    <th scope="col">Trạng thái</th>
                    <th scope="col">Ghi chú</th>
                    <th scope="col">Hành động</th>
                </tr>
           </thead>
           <tbody>
                <tr ng-repeat="x in listFeedBack" class="text-center">
                    <td>
                        <input class="form-check-input text-center slaveCheckbox" ng-model="selected" type="checkbox" ng-click="toggleSelection(x)" value="" id="checkitem">
                    </td>
                    <td>{{x.maDanhGia.toLocaleString('de-DE')}}</td>
                    <td>{{x.hoTen}}</td>
                    <td>{{x.tenTaiKhoan}}</td>
                    <td>{{x.soDienThoai}}</td>
                    <td>{{x.tenSanPham}}</td>
                    <td>{{x.chatLuong}} <i style="color: #ff9c1a;" class="fa-solid fa-star"></i></td>
                    <td>{{x.noiDung}}</td>
                    <td>{{ x.thoiGian | date:'HH:mm dd/MM/yyyy' }}</td>
                    <td ng-style="{'color': x.trangThai === false ? '#FF0000' : '#00CC00'}">{{x.trangThai===true ? 'Đã mua hàng':'Chưa mua hàng'}}</td>
                    <td>{{x.ghiChu}}</td>
                    <td>
                        <a style="cursor: pointer;" class="edit text-decoration-none">
                            <i ng-click="edit(x)"  class="fa-solid fa-pen-to-square"></i>
                        </a>
                    </td>
                </tr>
           </tbody>
        </table>
    </form>
    <div class="product-container">
        <div class="add-product container">
            <h4 class="text-center p-2">Thông tin đánh giá</h4>
            
            <div class="form-group">
                <label>Ghi chú:</label>
                <textarea ng-model="ghichu" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
            </div>
            <button ng-click="editFeedback()" type="button" class="btn btn-success saveEdit" style="margin: 0 0 10px 46%;">Lưu chỉnh sửa</button>
        </div>
    </div>
</div>
<div id="pagination"></div>
<div class="notifi">
    <div class="notifi-btn">
        <p class="text-center p-3" style="margin-bottom: 0;">Bạn có chắc chắn muốn xoá không ?</p>
        <div class="text-center">
            <button onclick="yesdel()" type="button" class="yes-btn btn btn-success" >Đồng ý</button>
            <button type="button" class="no-btn btn btn-secondary">Quay lại</button>
        </div>
    </div>
</div>
<script>

    $(document).ready(function(){
        $(".btn-add").click(function(){
            $(".product-container").toggleClass("hide")
        })

        $(".product-container").click(function(){
            $(".product-container").toggleClass("hide")
        })

        $(".add-product").click(function(e){
            e.stopPropagation();
        })

        $('.btn-del').click(function(){
            $('.notifi').toggleClass("hide-confirm")
        })

        $('.notifi').click(function(){
            $('.notifi').toggleClass("hide-confirm")
        })

        $(".notifi-btn").click(function(e){
            e.stopPropagation();
        })

        $('.no-btn').click(function(){
            $('.notifi').toggleClass("hide-confirm")
        })

    });

</script>